<div class="container" *ngIf="!isLoad">
  <!-- Carrossel de imagens - metade da tela -->
  <div class="carousel-container">
    <div *ngIf="isLoading" class="loader">Carregando...</div>
    <img [src]="objeto.photos[currentIndex]" alt="Imagem" class="carousel-image" 
    (load)="onImageLoad()"/>
    <button class="prev-btn" (click)="prevImage()">&#10094;</button>
    <button class="next-btn" (click)="nextImage()">&#10095;</button>
  </div>

  <!-- Conteúdo abaixo do carrossel -->
  <div class="content">
    <!-- Título e descrição do objeto -->
    <div class="header">
      <h2>{{objeto.nome}}</h2>
      <h4>{{objeto.descricao}}</h4>
    </div>

    <!-- Tabela de materiais -->
    <div class="material-section" *ngIf="objeto.material.length>0">
      <h4>Materiais Utilizados</h4>

      <div class="table-container">
        <table mat-table [dataSource]="dataSource" class="mat-elevation-z8">

          <!-- Coluna Tempo Impressão -->
          <ng-container matColumnDef="tempoImpressao">
            <th mat-header-cell *matHeaderCellDef> Tempo de Impressão </th>
            <td mat-cell *matCellDef="let element"> {{element.tempoImpressao}} </td>
          </ng-container>

          <!-- Coluna Quantidade -->
          <ng-container matColumnDef="quantidade">
            <th mat-header-cell *matHeaderCellDef> Quantidade </th>
            <td mat-cell *matCellDef="let element"> {{element.quantidade}} g/ml </td>
          </ng-container>

          <!-- Coluna Material -->
          <ng-container matColumnDef="material">
            <th mat-header-cell *matHeaderCellDef> Material </th>
            <td mat-cell *matCellDef="let element"> {{element.material}} </td>
          </ng-container>

          <!-- Cabeçalho e corpo da tabela -->
          <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
          <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
        </table>

        <!-- Paginação -->
        <div class="paginator-container">
          <mat-paginator [length]="objeto?.material?.length" [pageSize]="5" [pageSizeOptions]="[5, 10, 20]"
            aria-label="Select page">
          </mat-paginator>
        </div>
      </div>
    </div>
    <app-gasto-projeto [gastos]="objeto.gastos" [id]="objeto.id"></app-gasto-projeto>
  </div>
</div>
<div class="upload">
  <h2>Upload de Arquivos</h2>

  <p-fileUpload name="file" [multiple]="true" (onSelect)="onFilesSelected($event)" [auto]="true" [showPreview]="true"
    [chooseLabel]="'Escolher Arquivos'" [uploadLabel]="'Carregar Arquivos'">
  </p-fileUpload>

  <p-button label="Iniciar Upload" icon="pi pi-upload" (click)="uploadFiles()" class="p-mt-2">
  </p-button>

</div>